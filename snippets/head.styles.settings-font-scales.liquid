{% comment %}
  Renders the typography styles for the given settings (expects base spacing and line height scales)

  Accepts:
  - type_base_spacing {-3|-2|-1|0|1|2|3} - The base spacing scale for typography
  - type_base_line_height_scale {-3|-2|-1|0|1|2|3} - The base line height scale for typography

  Usage:
  {% render 'head.styles.typography', type_base_spacing: settings.type_base_spacing, type_base_line_height_scale: settings.type_base_line_height_scale %}
{% endcomment %}

{%- liquid
  assign body_font_size_scale_modifier = body_font_size_scale_modifier | default: settings.type_body_font_size_scale_modifier | default: 0;
  assign body_spacing_scale_modifier = body_spacing_scale_modifier | default: settings.type_body_spacing_scale_modifier | default: 0;
  assign body_line_height_scale_modifier = body_line_height_scale_modifier | default: settings.type_body_line_height_scale_modifier | default: 1;

  assign heading_font_size_scale_modifier = heading_font_size_scale_modifier | default: settings.type_heading_font_size_scale_modifier | default: 0;
  assign heading_spacing_scale_modifier = heading_spacing_scale_modifier | default: settings.type_heading_spacing_scale_modifier | default: 0;
  assign heading_line_height_scale_modifier = heading_line_height_scale_modifier | default: settings.type_heading_line_height_scale_modifier | default: 0;
  assign heading_capitalize = heading_capitalize | default: settings.type_heading_capitalize | default: false;

  assign accent_spacing_scale_modifier = accent_spacing_scale_modifier | default: settings.type_accent_spacing_scale_modifier | default: 0;
-%}

{%- style -%}
  :root {
    --text-size-scale-n-4: var(--text-size-2); /* 8px */
    --text-size-scale-n-3: var(--text-size-2-5); /* 10px */
    --text-size-scale-n-2: var(--text-size-3); /* 12px */
    --text-size-scale-n-1: var(--text-size-3-5); /* 14px */
    --text-size-scale-n0: var(--text-size-4); /* 16px */
    --text-size-scale-n1: var(--text-size-4-5); /* 18px */
    --text-size-scale-n2: var(--text-size-5); /* 20px */
    --text-size-scale-n3: var(--text-size-6); /* 24px */
    --text-size-scale-n4: var(--text-size-6-5); /* 26px */
    --text-size-scale-n5: var(--text-size-7); /* 28px */
    --text-size-scale-n6: var(--text-size-8); /* 32px */
    --text-size-scale-n7: var(--text-size-9); /* 36px */
    --text-size-scale-n8: var(--text-size-10); /* 40px */
    --text-size-scale-n9: var(--text-size-12); /* 48px */
    --text-size-scale-n10: var(--text-size-14); /* 56px */
    --text-size-scale-n11: var(--text-size-16); /* 64px */
    --text-size-scale-n12: var(--text-size-18); /* 72px */
    --text-size-scale-n13: var(--text-size-20); /* 80px */
    --text-size-scale-n14: var(--text-size-24); /* 96px */

    --font-weight-scale-n-3: var(--font-weight-100);
    --font-weight-scale-n-2: var(--font-weight-200);
    --font-weight-scale-n-1: var(--font-weight-300);
    --font-weight-scale-n0: var(--font-weight-400);
    --font-weight-scale-n1: var(--font-weight-500);
    --font-weight-scale-n2: var(--font-weight-600);
    --font-weight-scale-n3: var(--font-weight-700);
    --font-weight-scale-n4: var(--font-weight-800);
    --font-weight-scale-n5: var(--font-weight-900);

    --letter-spacing-scale-n-3: var(--letter-space-2xs);
    --letter-spacing-scale-n-2: var(--letter-space-xs);
    --letter-spacing-scale-n-1: var(--letter-space-sm);
    --letter-spacing-scale-n0: var(--letter-space-md);
    --letter-spacing-scale-n1: var(--letter-space-lg);
    --letter-spacing-scale-n2: var(--letter-space-xl);
    --letter-spacing-scale-n3: var(--letter-space-2xl);
    --letter-spacing-scale-n4: var(--letter-space-3xl);
    --letter-spacing-scale-n5: var(--letter-space-4xl);

    --line-height-scale-n-3: var(--line-height-2xs);
    --line-height-scale-n-2: var(--line-height-xs);
    --line-height-scale-n-1: var(--line-height-sm);
    --line-height-scale-n0: var(--line-height-md);
    --line-height-scale-n1: var(--line-height-lg);
    --line-height-scale-n2: var(--line-height-xl);
    --line-height-scale-n3: var(--line-height-2xl);

    /* Body Font Scales */
    {%- if body_spacing_scale_modifier -%}
      --body-letter-spacing: var(--letter-spacing-scale-n{{ body_spacing_scale_modifier }});
    {%- endif -%}
    {%- if body_line_height_scale_modifier -%}
      --body-line-height: var(--line-height-scale-n{{ body_line_height_scale_modifier }});
    {%- endif -%}

    {%- if body_font_size_scale_modifier -%}
      --body-lg-font-size: var(--text-size-scale-n{{ 0 |  plus: body_font_size_scale_modifier }});
      --body-md-font-size: var(--text-size-scale-n{{ -1 |  plus: body_font_size_scale_modifier }});
      --body-sm-font-size: var(--text-size-scale-n{{ -2 |  plus: body_font_size_scale_modifier }});
      --body-xs-font-size: var(--text-size-scale-n{{ -3 |  plus: body_font_size_scale_modifier }});
    {%- endif -%}

    /* Heading Font Scales */
    {%- if heading_spacing_scale_modifier -%}
      --heading-letter-spacing: var(--letter-spacing-scale-n{{ heading_spacing_scale_modifier }});
    {%- endif -%}
    {%- if heading_line_height_scale_modifier -%}
      --heading-line-height: var(--line-height-scale-n{{ heading_line_height_scale_modifier }});
    {%- endif -%}
    {%- if heading_font_size_scale_modifier and body_font_size_scale -%}
      --heading-2xl-font-size: max(var(--text-size-scale-n{{ 9 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
      --heading-xl-font-size: max(var(--text-size-scale-n{{ 6 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
      --heading-lg-font-size: max(var(--text-size-scale-n{{ 3 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
      --heading-md-font-size: max(var(--text-size-scale-n{{ 2 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
      --heading-sm-font-size: max(var(--text-size-scale-n{{ 1 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
      --heading-xs-font-size: max(var(--text-size-scale-n{{ 0 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
    {%- endif -%}

    /* Accent Font Scales */
    {%- if type_accent_spacing_scale_modifier -%}
      --accent-letter-spacing: var(--letter-spacing-scale-n{{ accent_spacing_scale_modifier }});
    {%- endif -%}

    @media screen and (min-width: 769px) {
      /* Body Font Desktop Sizes */
      {%- if body_font_size_scale_modifier -%}
        --body-lg-font-size: var(--text-size-scale-n{{ 1 |  plus: body_font_size_scale_modifier }});
        --body-md-font-size: var(--text-size-scale-n{{ 0 |  plus: body_font_size_scale_modifier }});
        --body-sm-font-size: var(--text-size-scale-n{{ -1 |  plus: body_font_size_scale_modifier }});
        --body-xs-font-size: var(--text-size-scale-n{{ -2 |  plus: body_font_size_scale_modifier }});
      {%- endif -%}

      /* Heading Desktop Font Sizes */
      {%- if heading_font_size_scale_modifier -%}
        --heading-2xl-font-size: max(var(--text-size-scale-n{{ 11 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
        --heading-xl-font-size: max(var(--text-size-scale-n{{ 9 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
        --heading-lg-font-size: max(var(--text-size-scale-n{{ 6 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
        --heading-md-font-size: max(var(--text-size-scale-n{{ 3 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
        --heading-sm-font-size: max(var(--text-size-scale-n{{ 2 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
        --heading-xs-font-size: max(var(--text-size-scale-n{{ 1 |  plus: heading_font_size_scale_modifier }}), var(--body-md-font-size));
      {%- endif -%}
    }
  }
{%- endstyle -%}
